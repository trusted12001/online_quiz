// Full Question Bank (36 questions)
const fullQuestionBank = [
    // 1) Multiple Choice
    {
      question: "Which planet is known as the Red Planet?",
      options: ["Earth", "Mars", "Jupiter", "Venus"],
      correct: 1
    },
    // 2) Multiple Choice
    {
      question: "Which instrument measures atmospheric pressure?",
      options: ["Thermometer", "Barometer", "Hygrometer", "Anemometer"],
      correct: 1
    },
    // 3) Multiple Choice
    {
      question: "Who wrote the play 'Romeo and Juliet'?",
      options: ["Charles Dickens", "Jane Austen", "William Shakespeare", "Oscar Wilde"],
      correct: 2
    },
    // 4) Multiple Choice
    {
      question: "Which gas do plants primarily use for photosynthesis?",
      options: ["Carbon Dioxide", "Oxygen", "Nitrogen", "Hydrogen"],
      correct: 0
    },
    // 5) Multiple Choice
    {
      question: "Which is the largest ocean on Earth?",
      options: ["Atlantic", "Pacific", "Indian", "Arctic"],
      correct: 1
    },
    // 6) Multiple Choice
    {
      question: "Which city is home to Big Ben?",
      options: ["London", "Manchester", "Edinburgh", "Birmingham"],
      correct: 0
    },
    // 7) Multiple Choice
    {
      question: "Which metal is liquid at room temperature?",
      options: ["Mercury", "Iron", "Silver", "Copper"],
      correct: 0
    },
    // 8) Multiple Choice
    {
      question: "Which shape has five sides?",
      options: ["Triangle", "Quadrilateral", "Pentagon", "Hexagon"],
      correct: 2
    },
    // 9) Multiple Choice
    {
      question: "How many continents are there on Earth?",
      options: ["Five", "Six", "Seven", "Eight"],
      correct: 2
    },
    // 10) Multiple Choice
    {
      question: "In which sport would you perform a 'serve'?",
      options: ["Cricket", "Tennis", "Football", "Rugby"],
      correct: 1
    },
    // 11) True or False
    {
      question: "True or False: A hexagon has seven sides.",
      options: ["True", "False"],
      correct: 1
    },
    // 12) True or False
    {
      question: "True or False: Dolphins are mammals.",
      options: ["True", "False"],
      correct: 0
    },
    // 13) True or False
    {
      question: "True or False: Lightning is hotter than the surface of the sun.",
      options: ["True", "False"],
      correct: 0
    },
    // 14) True or False
    {
      question: "True or False: The Great Wall of China is visible from the moon.",
      options: ["True", "False"],
      correct: 1
    },
    // 15) True or False
    {
      question: "True or False: Penguins are found at the North Pole in the wild.",
      options: ["True", "False"],
      correct: 1
    },
    // 16) True or False
    {
      question: "True or False: A leap year has 366 days.",
      options: ["True", "False"],
      correct: 0
    },
    // 17) True or False
    {
      question: "True or False: The human body has four lungs.",
      options: ["True", "False"],
      correct: 1
    },
    // 18) True or False
    {
      question: "True or False: Sound travels faster in water than in air.",
      options: ["True", "False"],
      correct: 0
    },
    // 19) Multiple Choice
    {
      question: "Which is the smallest prime number?",
      options: ["1", "2", "3", "5"],
      correct: 1
    },
    // 20) Multiple Choice
    {
      question: "Who painted the 'Mona Lisa'?",
      options: ["Michelangelo", "Leonardo da Vinci", "Vincent van Gogh", "Pablo Picasso"],
      correct: 1
    },
    // 21) Multiple Choice
    {
      question: "Which element has the chemical symbol 'Au'?",
      options: ["Gold", "Silver", "Copper", "Argon"],
      correct: 0
    },
    // 22) Multiple Choice
    {
      question: "Which animal is known as the 'Ship of the Desert'?",
      options: ["Horse", "Donkey", "Camel", "Llama"],
      correct: 2
    },
    // 23) Multiple Choice
    {
      question: "Which continent is also a country?",
      options: ["Asia", "Australia", "Europe", "Antarctica"],
      correct: 1
    },
    // 24) Multiple Choice
    {
      question: "Which British monarch reigned the longest?",
      options: ["Queen Victoria", "Queen Elizabeth II", "King George III", "Queen Elizabeth I"],
      correct: 1
    },
    // 25) Fill in the blank
    {
      question: "Fill in the blank: The collective noun for a group of lions is a ___?",
      options: ["Pride", "School", "Herd", "Swarm"],
      correct: 0
    },
    // 26) Fill in the blank
    {
      question: "Fill in the blank: The capital of Japan is ___?",
      options: ["Tokyo", "Kyoto", "Osaka", "Hiroshima"],
      correct: 0
    },
    // 27) Fill in the blank
    {
      question: "Fill in the blank: The process by which plants make food is called ___?",
      options: ["Photosynthesis", "Digestion", "Evaporation", "Fermentation"],
      correct: 0
    },
    // 28) Fill in the blank
    {
      question: "Fill in the blank: The River Nile flows through ___?",
      options: ["Egypt", "Kenya", "South Africa", "Nigeria"],
      correct: 0
    },
    // 29) Fill in the blank
    {
      question: "Fill in the blank: The main gas in Earth's atmosphere is ___?",
      options: ["Nitrogen", "Oxygen", "Carbon Dioxide", "Argon"],
      correct: 0
    },
    // 30) Fill in the blank
    {
      question: "Fill in the blank: The device used to measure temperature is called a ___?",
      options: ["Thermometer", "Barometer", "Speedometer", "Odometer"],
      correct: 0
    },
    // 31) Fill in the blank
    {
      question: "Fill in the blank: The first letter of the Greek alphabet is ___?",
      options: ["Alpha", "Beta", "Gamma", "Delta"],
      correct: 0
    },
    // 32) Fill in the blank
    {
      question: "Fill in the blank: The author of '1984' is George ___?",
      options: ["Orwell", "Eliot", "Joyce", "Bronte"],
      correct: 0
    },
    // 33) Multiple Choice
    {
      question: "Which scientist proposed the theory of relativity?",
      options: ["Issac Newton", "Albert Einstein", "Galileo Galilei", "Marie Curie"],
      correct: 1
    },
    // 34) Multiple Choice
    {
      question: "Which shape has eight sides?",
      options: ["Heptagon", "Octagon", "Nonagon", "Decagon"],
      correct: 1
    },
    // 35) Multiple Choice
    {
      question: "Which of these is a prime number?",
      options: ["15", "21", "23", "27"],
      correct: 2
    },
    // 36) Multiple Choice
    {
      question: "Which planet is furthest from the Sun?",
      options: ["Mars", "Saturn", "Neptune", "Uranus"],
      correct: 2
    }
  ];
  
  // This array will hold only the 5 randomly chosen questions
  let questions = [];
  
  // Randomly select 'count' questions from the full question bank
  function getRandomQuestions(bank, count) {
    const copy = bank.slice(); // Make a copy so we don't modify the original
    const selected = [];
  
    for (let i = 0; i < count; i++) {
      const randomIndex = Math.floor(Math.random() * copy.length);
      selected.push(copy[randomIndex]);
      copy.splice(randomIndex, 1); // Remove the chosen question from the copy
    }
  
    return selected;
  }
  
  // State Variables
  let currentQuestionIndex = 0;
  let userResponses = [];
  
  // DOM Elements
  const questionText = document.getElementById("questionText");
  const optionsContainer = document.getElementById("optionsContainer");
  const nextButton = document.getElementById("nextButton");
  const prevButton = document.getElementById("prevButton");
  const retryButton = document.getElementById("retryQuiz");
  
  // Initialise Quiz
  function loadQuestion(index) {
    const question = questions[index];
    questionText.textContent = question.question;
    optionsContainer.innerHTML = "";
  
    question.options.forEach((option, i) => {
      const button = document.createElement("button");
      button.textContent = option;
      button.className = "option-button";
      button.onclick = () => saveResponse(index, i);
  
      // Highlight selected option
      if (userResponses[index] === i) {
        button.classList.add("selected");
      }
  
      optionsContainer.appendChild(button);
    });
  
    // Manage navigation button visibility
    prevButton.style.display = index === 0 ? "none" : "inline-block";
    nextButton.textContent = index === questions.length - 1 ? "Submit" : "Next";
  }
  
  function saveResponse(questionIndex, optionIndex) {
    userResponses[questionIndex] = optionIndex;
    loadQuestion(questionIndex); // Refresh UI
  }
  
  function showResults() {
    document.getElementById("quizSection").hidden = true;
    document.getElementById("resultsSection").hidden = false;
  
    const scoreElement = document.getElementById("score");
    const feedbackList = document.getElementById("feedbackList");
  
    let score = 0;
    feedbackList.innerHTML = "";
  
    userResponses.forEach((response, index) => {
      const question = questions[index];
      const feedbackItem = document.createElement("li");
  
      if (response === question.correct) {
        score++;
        feedbackItem.textContent = `Question ${index + 1}: Correct!`;
      } else {
        feedbackItem.textContent = `Question ${index + 1}: Incorrect. The correct answer was "${
          question.options[question.correct]
        }".`;
      }
  
      feedbackList.appendChild(feedbackItem);
    });
  
    scoreElement.textContent = `You scored ${score} out of ${questions.length}!`;
  }
  
  function resetQuiz() {
    currentQuestionIndex = 0;
    userResponses = [];
    questions = [];
  
    document.getElementById("resultsSection").hidden = true;
    document.getElementById("welcome").hidden = false;
  }
  
  // Event Listeners
  nextButton.addEventListener("click", () => {
    if (currentQuestionIndex === questions.length - 1) {
      showResults();
    } else {
      currentQuestionIndex++;
      loadQuestion(currentQuestionIndex);
    }
  });
  
  prevButton.addEventListener("click", () => {
    currentQuestionIndex--;
    loadQuestion(currentQuestionIndex);
  });
  
  retryButton.addEventListener("click", resetQuiz);
  
  // Start Quiz button
  document.getElementById("startQuiz").addEventListener("click", function () {
    document.getElementById("welcome").hidden = true;
    document.getElementById("howTo").hidden = false;
  });
  
  // Start Game button
  document.getElementById("startGame").addEventListener("click", function () {
    // Grab 5 random questions from the 36-question bank
    questions = getRandomQuestions(fullQuestionBank, 5);
  
    // Reset user responses to match the newly selected 5 questions
    userResponses = new Array(questions.length).fill(null);
  
    document.getElementById("howTo").hidden = true;
    document.getElementById("quizSection").hidden = false;
  
    // Load the first question from our 5-question selection
    loadQuestion(currentQuestionIndex);
  });
  